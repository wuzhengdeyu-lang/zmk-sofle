# 版权信息与基础设置
# Copyright (c) 2022 Darryl deHaan
# SPDX-License-Identifier: MIT

# 核心电源管理策略
CONFIG_ZMK_SLEEP=y
# 5分钟后进入闲置状态 (300,000 ms)，灯光/显示屏关闭，但不断开蓝牙
CONFIG_ZMK_IDLE_TIMEOUT=300000
# 15分钟后进入深度睡眠 (900,000 ms)，彻底断开蓝牙，按任意键瞬间唤醒
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# 彻底禁用 RGB Underglow (底灯)
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_WS2812_STRIP=n
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=n

# 彻底禁用 Backlight (背光/按键灯)
CONFIG_ZMK_BACKLIGHT=n
CONFIG_ZMK_BACKLIGHT_ON_START=n
CONFIG_ZMK_BACKLIGHT_AUTO_OFF_IDLE=n

# 禁用全局外部电源输出（防止 LED 驱动芯片在后台耗电）
CONFIG_ZMK_EXT_POWER=n

# 唤醒优化：禁用 Soft Off 以防死锁，改用自动 Deep Sleep
CONFIG_ZMK_PM_SOFT_OFF=n

# 键盘性能与稳定性设置
# 启用 32kHz 外部晶振以提高蓝牙稳定性
CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_30PPM=y

# 提高蓝牙发射功率（解决分体键盘左右手连接不稳或断连问题）
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# 鼠标与滚轮支持
CONFIG_ZMK_POINTING=y
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# 防抖设置
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=8
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=8

# 其他系统设置
CONFIG_ZMK_HID_REPORT_TYPE_NKRO=n
