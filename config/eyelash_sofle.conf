# 版权信息
# Copyright (c) 2022 Darryl deHaan
# SPDX-License-Identifier: MIT

# ==========================================
# 核心电源管理
# ==========================================
CONFIG_ZMK_SLEEP=y
# 闲置时间 15 分钟
CONFIG_ZMK_IDLE_TIMEOUT=900000
# 深度睡眠 2 小时
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=7200000

# ==========================================
# 稳定性修复：针对“定格”和“死机”
# ==========================================
# 1. 使用内部 RC 振荡器（解决时钟不同步导致的假死）
CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y

# 2. 优化蓝牙连接参数，提高响应优先级
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12
CONFIG_BT_BUF_ACL_TX_COUNT=10
CONFIG_BT_L2CAP_TX_BUF_COUNT=10

# 3. 蓝牙发射功率（+8dBm，确保分体连接穿透力）
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# ==========================================
# 彻底禁用未安装的硬件驱动 (重点：防止总线卡死)
# ==========================================
# 禁用鼠标/指点设备
CONFIG_ZMK_POINTING=n

# 禁用旋钮 (如果你确定没装旋钮，设为 n；如果装了旋钮没装摇杆，设为 y)
CONFIG_EC11=n
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=n

# 禁用所有灯光控制
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_WS2812_STRIP=n
CONFIG_ZMK_BACKLIGHT=n

# 禁用外部电源管理（没有屏幕就不需要它，防止干扰）
CONFIG_ZMK_EXT_POWER=n

# ==========================================
# 键盘基础性能
# ==========================================
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5
CONFIG_ZMK_HID_REPORT_TYPE_NKRO=n
